#!/bin/bash

set -e

SCRIPTDIR="$( dirname -- "$0"; )";
SCONS_EP=${SCRIPTDIR}/lib/scons/scripts/scons.py

if [[ -d .git ]]; then
    python3 ${SCONS_EP} -Q --git-tasks submodule_update
fi

SCONS_DEFAULT_FLAGS="-Q --warn=target-not-built"
python3 ${SCONS_EP} ${SCONS_DEFAULT_FLAGS} "$@"
