# MicroSD

## Вариации

Размеры карты

* 128 MB - 2 GB (SD)
* 4 GB - 32 GB (SDHC)
* 64 GB - 2 TB (SDXC)

Классы быстродействия

* Class 2 2 MB/s
* Class 4 4 MB/s
* Class 6 6 MB/s
* Class 8 8 MB/s
* Class 10 10 MB/s
* UHS-1 10 MB/s
* UHS-3 30 MB/s

Производитель карты

* Брендовая карта (Smasung, Kingston, Transcend)
* NoName

При необходимости, рекомендуется повторить тест несколько раз на картах MicroSD различных типов

## Подготовка к тесту

* Карта MicroSD, отформатированная в файловой системе FAT.
* Прошивка, поддерживающая работу с SD картой (чтение, запись, расчет контрольной суммы)
* Бинарный файл со случайными данными, размером не менее 1 МБ

## Тестирование

* Прошить в устройство прошивку
* Вставить в устройство карту
* Убедиться, что карта примонтирована успешно
* Записать файл на флеш карту
* Перезагрузить устройство
* Убедиться, что карта примонтирована успешно
* Считать файл с флеш карты
* Рассчитать контрольную сумму файла.
* Сравнить контрольную сумму с суммой изначально записанных данных.

Результат

Если контрольная сумма совпадает с контрольной суммой записанного файла, тест считать пройденным

# Firmware

Задачи прошивки

Прошивка для тестирования выполняет следующие шаги (в порядке уровней абстракции)

* Инициализация SPI шины 
* Проверка обмена данными с чипом SD карты
* Работа с картой, как с блочным устройством
* Монтирование файловой системы
* Работа с файлами

При возникновении ошибок на каждом шаге - прошивка сообщает об этом, для упрощения отладки.
